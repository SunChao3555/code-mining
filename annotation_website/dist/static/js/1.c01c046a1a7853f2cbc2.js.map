{"version":3,"sources":["webpack:///static/js/1.c01c046a1a7853f2cbc2.js","webpack:///./src/components/Login.vue?e0d7","webpack:///src/components/Login.vue","webpack:///./src/components/Login.vue"],"names":["webpackJsonp","+dyU","module","__webpack_exports__","__webpack_require__","render","_vm","this","_h","$createElement","_c","_self","staticClass","staticStyle","max-width","attrs","header","border-variant","header-border-variant","show","errorMessage","dismissible","variant","_v","_s","on","submit","login","label","label-for","id","type","required","placeholder","model","value","callback","$$v","email","expression","password","align-h","align-v","to","cols","staticRenderFns","esExports","nKb+","__WEBPACK_IMPORTED_MODULE_0_axios__","__WEBPACK_IMPORTED_MODULE_0_axios___default","n","__WEBPACK_IMPORTED_MODULE_1__router__","__WEBPACK_IMPORTED_MODULE_2__store__","name","data","loader","beforeCreate","state","isLogged","push","methods","evt","self","preventDefault","a","post","then","response","token","jwt","admin","localStorage","setItem","defaults","headers","common","commit","catch","error","msg","message","console","log","xJsL","Object","defineProperty","__WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_Login_vue__","__WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_21834674_hasScoped_false_transformToRequire_video_src_source_src_img_src_image_xlink_href_buble_transforms_node_modules_vue_loader_lib_selector_type_template_index_0_Login_vue__","normalizeComponent","Component"],"mappings":"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","file":"static/js/1.c01c046a1a7853f2cbc2.js","sourcesContent":["webpackJsonp([1],{\n\n/***/ \"+dyU\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('b-container',[_c('b-card',{staticClass:\"mx-auto\",staticStyle:{\"max-width\":\"23rem\"},attrs:{\"header\":\"Log in\",\"border-variant\":\"secondary\",\"header-border-variant\":\"secondary\"}},[_c('b-alert',{attrs:{\"show\":_vm.errorMessage,\"dismissible\":\"\",\"variant\":\"danger\"}},[_vm._v(_vm._s(_vm.errorMessage))]),_vm._v(\" \"),_c('b-form',{on:{\"submit\":_vm.login}},[_c('b-form-group',{attrs:{\"label\":\"Email:\",\"label-for\":\"loginEmail\"}},[_c('b-form-input',{attrs:{\"id\":\"loginEmail\",\"type\":\"email\",\"required\":\"\",\"placeholder\":\"Enter email\"},model:{value:(_vm.email),callback:function ($$v) {_vm.email=$$v},expression:\"email\"}})],1),_vm._v(\" \"),_c('b-form-group',{attrs:{\"label\":\"Password:\",\"label-for\":\"loginPassword\"}},[_c('b-form-input',{attrs:{\"id\":\"loginPassword\",\"type\":\"password\",\"required\":\"\",\"placeholder\":\"Enter password\"},model:{value:(_vm.password),callback:function ($$v) {_vm.password=$$v},expression:\"password\"}})],1),_vm._v(\" \"),_c('b-row',{attrs:{\"align-h\":\"end\"}},[_c('b-col',[_c('b-link',{attrs:{\"align-v\":\"center\",\"to\":\"signup\"}},[_vm._v(\"Sign up\")])],1),_vm._v(\" \"),_c('b-col',{attrs:{\"cols\":\"auto\"}},[_c('b-button',{attrs:{\"type\":\"submit\",\"variant\":\"primary\"}},[_vm._v(\"Log in\")]),_vm._v(\" \"),_c('b-button',{attrs:{\"type\":\"reset\",\"variant\":\"secondary\"}},[_vm._v(\"Reset\")])],1)],1)],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ __webpack_exports__[\"a\"] = (esExports);\n\n/***/ }),\n\n/***/ \"nKb+\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_axios__ = __webpack_require__(\"mtWM\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_axios___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_axios__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__router__ = __webpack_require__(\"YaEn\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__store__ = __webpack_require__(\"IcnI\");\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n\n\n\n/* harmony default export */ __webpack_exports__[\"a\"] = ({\n  name: 'login',\n  data: function data() {\n    return {\n      loader: false,\n      errorMessage: null,\n      email: '',\n      password: ''\n    };\n  },\n  beforeCreate: function beforeCreate() {\n    if (__WEBPACK_IMPORTED_MODULE_2__store__[\"a\" /* default */].state.isLogged) {\n      __WEBPACK_IMPORTED_MODULE_1__router__[\"a\" /* default */].push('/');\n    }\n  },\n\n  methods: {\n    login: function login(evt) {\n      this.errorMessage = null;\n      var self = this;\n      evt.preventDefault();\n      var path = '/api/login';\n      __WEBPACK_IMPORTED_MODULE_0_axios___default.a.post(path, {\n        email: this.email,\n        password: this.password\n      }).then(function (response) {\n        var token = response.data.jwt;\n        var name = response.data.name;\n        var admin = response.data.admin;\n        if (token !== null && name !== null && admin !== null) {\n          localStorage.setItem('token', token);\n          localStorage.setItem('name', name);\n          localStorage.setItem('admin', admin);\n          __WEBPACK_IMPORTED_MODULE_0_axios___default.a.defaults.headers.common['Authorization'] = 'Bearer ' + token;\n          __WEBPACK_IMPORTED_MODULE_2__store__[\"a\" /* default */].commit('LOGIN_USER');\n          __WEBPACK_IMPORTED_MODULE_1__router__[\"a\" /* default */].push('/');\n        } else {\n          self.errorMessage = 'Login failed. Please try again.';\n        }\n      }).catch(function (error) {\n        if (error.response) {\n          var response = error.response.data;\n          self.errorMessage = response.msg;\n        }\n        if (!self.errorMessage) {\n          self.errorMessage = error.message;\n        }\n        console.log(error);\n      });\n    }\n  }\n});\n\n/***/ }),\n\n/***/ \"xJsL\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_Login_vue__ = __webpack_require__(\"nKb+\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_21834674_hasScoped_false_transformToRequire_video_src_source_src_img_src_image_xlink_href_buble_transforms_node_modules_vue_loader_lib_selector_type_template_index_0_Login_vue__ = __webpack_require__(\"+dyU\");\nvar normalizeComponent = __webpack_require__(\"VU/8\")\n/* script */\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_Login_vue__[\"a\" /* default */],\n  __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_21834674_hasScoped_false_transformToRequire_video_src_source_src_img_src_image_xlink_href_buble_transforms_node_modules_vue_loader_lib_selector_type_template_index_0_Login_vue__[\"a\" /* default */],\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Component.exports);\n\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// static/js/1.c01c046a1a7853f2cbc2.js","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('b-container',[_c('b-card',{staticClass:\"mx-auto\",staticStyle:{\"max-width\":\"23rem\"},attrs:{\"header\":\"Log in\",\"border-variant\":\"secondary\",\"header-border-variant\":\"secondary\"}},[_c('b-alert',{attrs:{\"show\":_vm.errorMessage,\"dismissible\":\"\",\"variant\":\"danger\"}},[_vm._v(_vm._s(_vm.errorMessage))]),_vm._v(\" \"),_c('b-form',{on:{\"submit\":_vm.login}},[_c('b-form-group',{attrs:{\"label\":\"Email:\",\"label-for\":\"loginEmail\"}},[_c('b-form-input',{attrs:{\"id\":\"loginEmail\",\"type\":\"email\",\"required\":\"\",\"placeholder\":\"Enter email\"},model:{value:(_vm.email),callback:function ($$v) {_vm.email=$$v},expression:\"email\"}})],1),_vm._v(\" \"),_c('b-form-group',{attrs:{\"label\":\"Password:\",\"label-for\":\"loginPassword\"}},[_c('b-form-input',{attrs:{\"id\":\"loginPassword\",\"type\":\"password\",\"required\":\"\",\"placeholder\":\"Enter password\"},model:{value:(_vm.password),callback:function ($$v) {_vm.password=$$v},expression:\"password\"}})],1),_vm._v(\" \"),_c('b-row',{attrs:{\"align-h\":\"end\"}},[_c('b-col',[_c('b-link',{attrs:{\"align-v\":\"center\",\"to\":\"signup\"}},[_vm._v(\"Sign up\")])],1),_vm._v(\" \"),_c('b-col',{attrs:{\"cols\":\"auto\"}},[_c('b-button',{attrs:{\"type\":\"submit\",\"variant\":\"primary\"}},[_vm._v(\"Log in\")]),_vm._v(\" \"),_c('b-button',{attrs:{\"type\":\"reset\",\"variant\":\"secondary\"}},[_vm._v(\"Reset\")])],1)],1)],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-21834674\",\"hasScoped\":false,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/Login.vue\n// module id = +dyU\n// module chunks = 1","<template>\n  <b-container>\n    <b-card header=\"Log in\"\n            border-variant=\"secondary\"\n            header-border-variant=\"secondary\"\n            style=\"max-width: 23rem;\"\n            class=\"mx-auto\">\n      <b-alert :show=\"errorMessage\"\n               dismissible\n               variant=\"danger\"\n        >{{ errorMessage }}</b-alert>\n      <b-form @submit=\"login\">\n        <b-form-group label=\"Email:\" label-for=\"loginEmail\">\n          <b-form-input id=\"loginEmail\"\n                        type=\"email\" v-model=\"email\" required\n                        placeholder=\"Enter email\"\n          ></b-form-input>\n        </b-form-group>\n        <b-form-group label=\"Password:\" label-for=\"loginPassword\">\n          <b-form-input id=\"loginPassword\"\n                        type=\"password\" v-model=\"password\" required\n                        placeholder=\"Enter password\"\n          ></b-form-input>\n        </b-form-group>\n        <b-row align-h=\"end\">\n          <b-col>\n            <b-link  align-v=\"center\" to=\"signup\">Sign up</b-link>\n          </b-col>\n          <b-col cols=\"auto\">\n            <b-button type=\"submit\" variant=\"primary\">Log in</b-button>\n            <b-button type=\"reset\" variant=\"secondary\">Reset</b-button>\n          </b-col>\n        </b-row>\n      </b-form>\n    </b-card>\n  </b-container>\n</template>\n\n<script>\nimport axios from 'axios'\nimport router from '@/router'\nimport store from '@/store'\n\nexport default {\n  name: 'login',\n  data () {\n    return {\n      loader: false,\n      errorMessage: null,\n      email: '',\n      password: ''\n    }\n  },\n  beforeCreate () {\n    if (store.state.isLogged) {\n      router.push('/')\n    }\n  },\n  methods: {\n    login (evt) {\n      this.errorMessage = null\n      let self = this\n      evt.preventDefault()\n      const path = '/api/login'\n      axios.post(path, {\n        email: this.email,\n        password: this.password\n      }).then(response => {\n        const token = response.data.jwt\n        const name = response.data.name\n        const admin = response.data.admin\n        if (token !== null && name !== null && admin !== null) {\n          localStorage.setItem('token', token)\n          localStorage.setItem('name', name)\n          localStorage.setItem('admin', admin)\n          axios.defaults.headers.common['Authorization'] = `Bearer ${token}`\n          store.commit('LOGIN_USER')\n          router.push('/')\n        } else {\n          self.errorMessage = 'Login failed. Please try again.'\n        }\n      }).catch(error => {\n        if (error.response) {\n          let response = error.response.data\n          self.errorMessage = response.msg\n        }\n        if (!self.errorMessage) {\n          self.errorMessage = error.message\n        }\n        console.log(error)\n      })\n    }\n  }\n}\n</script>\n\n\n// WEBPACK FOOTER //\n// src/components/Login.vue","var normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Login.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-21834674\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":\\\"src\\\",\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./Login.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Login.vue\n// module id = xJsL\n// module chunks = 1"],"sourceRoot":""}