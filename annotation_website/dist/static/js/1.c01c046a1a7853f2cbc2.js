webpackJsonp([1],{"+dyU":function(e,a,r){"use strict";var t=function(){var e=this,a=e.$createElement,r=e._self._c||a;return r("b-container",[r("b-card",{staticClass:"mx-auto",staticStyle:{"max-width":"23rem"},attrs:{header:"Log in","border-variant":"secondary","header-border-variant":"secondary"}},[r("b-alert",{attrs:{show:e.errorMessage,dismissible:"",variant:"danger"}},[e._v(e._s(e.errorMessage))]),e._v(" "),r("b-form",{on:{submit:e.login}},[r("b-form-group",{attrs:{label:"Email:","label-for":"loginEmail"}},[r("b-form-input",{attrs:{id:"loginEmail",type:"email",required:"",placeholder:"Enter email"},model:{value:e.email,callback:function(a){e.email=a},expression:"email"}})],1),e._v(" "),r("b-form-group",{attrs:{label:"Password:","label-for":"loginPassword"}},[r("b-form-input",{attrs:{id:"loginPassword",type:"password",required:"",placeholder:"Enter password"},model:{value:e.password,callback:function(a){e.password=a},expression:"password"}})],1),e._v(" "),r("b-row",{attrs:{"align-h":"end"}},[r("b-col",[r("b-link",{attrs:{"align-v":"center",to:"signup"}},[e._v("Sign up")])],1),e._v(" "),r("b-col",{attrs:{cols:"auto"}},[r("b-button",{attrs:{type:"submit",variant:"primary"}},[e._v("Log in")]),e._v(" "),r("b-button",{attrs:{type:"reset",variant:"secondary"}},[e._v("Reset")])],1)],1)],1)],1)],1)},s=[],o={render:t,staticRenderFns:s};a.a=o},"nKb+":function(e,a,r){"use strict";var t=r("mtWM"),s=r.n(t),o=r("YaEn"),n=r("IcnI");a.a={name:"login",data:function(){return{loader:!1,errorMessage:null,email:"",password:""}},beforeCreate:function(){n.a.state.isLogged&&o.a.push("/")},methods:{login:function(e){this.errorMessage=null;var a=this;e.preventDefault();s.a.post("/api/login",{email:this.email,password:this.password}).then(function(e){var r=e.data.jwt,t=e.data.name,l=e.data.admin;null!==r&&null!==t&&null!==l?(localStorage.setItem("token",r),localStorage.setItem("name",t),localStorage.setItem("admin",l),s.a.defaults.headers.common.Authorization="Bearer "+r,n.a.commit("LOGIN_USER"),o.a.push("/")):a.errorMessage="Login failed. Please try again."}).catch(function(e){if(e.response){var r=e.response.data;a.errorMessage=r.msg}a.errorMessage||(a.errorMessage=e.message),console.log(e)})}}}},xJsL:function(e,a,r){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var t=r("nKb+"),s=r("+dyU"),o=r("VU/8"),n=o(t.a,s.a,!1,null,null,null);a.default=n.exports}});
//# sourceMappingURL=1.c01c046a1a7853f2cbc2.js.map